{
  "name": "ticbuild-vs-code",
  "description": "TIC-80 + ticbuild support: syntax highlighting and remote watches for VS Code",
  "displayName": "TIC-80 ticbuild support",
  "version": "0.0.3",
  "main": "./out/extension.js",
  "author": {
    "name": "Carl Corcoran"
  },
  "publisher": "TridentLoop",
  "engines": {
    "vscode": "^1.80.0"
  },
  "activationEvents": [
    "onStartupFinished"
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/thenfour/ticbuild_vscode"
  },
  "categories": [
    "Programming Languages"
  ],
  "keywords": [
    "TIC-80",
    "TIC80",
    "ticbuild",
    "fantasy console",
    "Lua",
    "watch",
    "remoting",
    "TIC"
  ],
  "files": [
    "package.json",
    "README.md",
    "LICENSE",
    "syntaxes/**",
    "out/**",
    ".attachments/**",
    "ControlSurfaceUI/dist/**"
  ],
  "scripts": {
    "typecheck": "tsc -p ./ --noEmit",
    "compile": "npm run typecheck && node ./esbuild.js",
    "watch": "node ./esbuild.js --watch",
    "vscode:prepublish": "npm run compile"
  },
  "dependencies": {
    "ajv": "^8.17.1"
  },
  "devDependencies": {
    "@types/node": "^20.11.0",
    "@types/vscode": "^1.80.0",
    "esbuild": "^0.20.2",
    "typescript": "^5.3.3",
    "vscode": "^1.1.37"
  },
  "contributes": {
    "configuration": {
      "title": "TIC-80 Remoting",
      "properties": {
        "tic80.remote.host": {
          "type": "string",
          "default": "127.0.0.1",
          "description": "Default TIC-80 remoting host."
        },
        "tic80.remote.port": {
          "type": "number",
          "default": 9977,
          "description": "Default TIC-80 remoting port."
        },
        "tic80.pollHz": {
          "type": "number",
          "default": 10,
          "description": "Polling rate (Hz) for watch updates."
        },
        "tic80.uiRefreshMs": {
          "type": "number",
          "default": 217,
          "description": "UI refresh interval (ms) for TIC-80 watch tree updates."
        },
        "tic80.connectTimeoutMs": {
          "type": "number",
          "default": 3000,
          "description": "Timeout in milliseconds for connecting to TIC-80 remoting."
        }
      }
    },
    "commands": [
      {
        "command": "tic80.attach",
        "title": "TIC-80: Attach..."
      },
      {
        "command": "tic80.reloadDevtools",
        "title": "TIC-80: Reload Devtools Config"
      },
      {
        "command": "tic80.showSidebar",
        "title": "TIC-80: Show Sidebar"
      },
      {
        "command": "tic80.hideSidebar",
        "title": "TIC-80: Hide Sidebar"
      },
      {
        "command": "tic80.addPanel",
        "title": "TIC-80: Add Panel"
      },
      {
        "command": "tic80.removePanel",
        "title": "TIC-80: Remove Panel"
      },
      {
        "command": "tic80.detach",
        "title": "TIC-80: Detach"
      },
      {
        "command": "tic80.addWatch",
        "title": "TIC-80: Add Watch..."
      },
      {
        "command": "tic80.removeWatch",
        "title": "TIC-80: Remove Watch"
      },
      {
        "command": "tic80.clearWatches",
        "title": "TIC-80: Clear Watches"
      },
      {
        "command": "tic80.copyWatchValue",
        "title": "TIC-80: Copy Watch Value"
      }
    ],
    "grammars": [
      {
        "scopeName": "source.ticbuild.preproc.injection",
        "path": "./syntaxes/ticbuild-preproc.tmLanguage.json",
        "injectTo": [
          "source.lua",
          "source.lua.embedded",
          "meta.embedded.block.lua",
          "text.html.markdown"
        ]
      }
    ],
    "views": {
      "explorer": [
        {
          "id": "tic80Watches",
          "name": "TIC-80 Watches"
        },
        {
          "id": "tic80ControlSurfaceSidebar",
          "name": "TIC-80 Control Surfaces",
          "type": "webview",
          "when": "tic80.controlSurfaceSidebar.visible"
        }
      ]
    },
    "menus": {
      "commandPalette": [
        {
          "command": "tic80.attach"
        },
        {
          "command": "tic80.reloadDevtools"
        },
        {
          "command": "tic80.showSidebar"
        },
        {
          "command": "tic80.hideSidebar"
        },
        {
          "command": "tic80.addPanel"
        },
        {
          "command": "tic80.removePanel"
        },
        {
          "command": "tic80.detach"
        },
        {
          "command": "tic80.addWatch"
        },
        {
          "command": "tic80.clearWatches"
        }
      ],
      "view/item/context": [
        {
          "command": "tic80.attach",
          "when": "view == tic80Watches && viewItem == tic80SessionNode",
          "group": "inline"
        },
        {
          "command": "tic80.detach",
          "when": "view == tic80Watches && viewItem == tic80SessionNode && tic80.remote.connected",
          "group": "inline"
        },
        {
          "command": "tic80.addWatch",
          "when": "view == tic80Watches && viewItem == tic80WatchesGroup",
          "group": "inline"
        },
        {
          "command": "tic80.clearWatches",
          "when": "view == tic80Watches && viewItem == tic80WatchesGroup",
          "group": "inline"
        },
        {
          "command": "tic80.addPanel",
          "when": "view == tic80Watches && viewItem == tic80ControlSurfacesGroup",
          "group": "inline"
        },
        {
          "command": "tic80.showSidebar",
          "when": "view == tic80Watches && viewItem == tic80ControlSurfacesGroup && !tic80.controlSurfaceSidebar.visible",
          "group": "inline"
        },
        {
          "command": "tic80.removePanel",
          "when": "view == tic80Watches && viewItem == tic80ControlSurfacePanelItem",
          "group": "inline"
        },
        {
          "command": "tic80.hideSidebar",
          "when": "view == tic80Watches && viewItem == tic80ControlSurfaceSidebarItem && tic80.controlSurfaceSidebar.visible",
          "group": "inline"
        },
        {
          "command": "tic80.removeWatch",
          "when": "view == tic80Watches && viewItem == tic80WatchItem",
          "group": "inline"
        },
        {
          "command": "tic80.copyWatchValue",
          "when": "view == tic80Watches && viewItem == tic80WatchItem",
          "group": "inline"
        }
      ]
    }
  }
}